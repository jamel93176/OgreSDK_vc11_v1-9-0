<html>
<head>
<title>OgreWorkQueue.h Source File - OGRE Documentation</title> <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1"> 
<link type="text/css" rel="stylesheet" href="doxygen.css">
<link type="text/css" rel="stylesheet" href="tabs.css">
</head>
<body>
<!-- Generated by Doxygen 1.8.3.1 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_60895d3e9d196336faf5d9dad71ee9d7.html">OgreMain</a></li><li class="navelem"><a class="el" href="dir_9ba68fabe7d45cd05996335e8214ea54.html">include</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">OgreWorkQueue.h</div>  </div>
</div><!--header-->
<div class="contents">
<a href="OgreWorkQueue_8h.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">/*</span></div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="comment">-----------------------------------------------------------------------------</span></div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="comment">This source file is part of OGRE</span></div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="comment">(Object-oriented Graphics Rendering Engine)</span></div>
<div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="comment">For the latest info, see http://www.ogre3d.org/</span></div>
<div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="comment">Copyright (c) 2000-2013 Torus Knot Software Ltd</span></div>
<div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="comment">Permission is hereby granted, free of charge, to any person obtaining a copy</span></div>
<div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="comment">of this software and associated documentation files (the &quot;Software&quot;), to deal</span></div>
<div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="comment">in the Software without restriction, including without limitation the rights</span></div>
<div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="comment">to use, copy, modify, merge, publish, distribute, sublicense, and/or sell</span></div>
<div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="comment">copies of the Software, and to permit persons to whom the Software is</span></div>
<div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="comment">furnished to do so, subject to the following conditions:</span></div>
<div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="comment">The above copyright notice and this permission notice shall be included in</span></div>
<div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="comment">all copies or substantial portions of the Software.</span></div>
<div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;<span class="comment">THE SOFTWARE IS PROVIDED &quot;AS IS&quot;, WITHOUT WARRANTY OF ANY KIND, EXPRESS OR</span></div>
<div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;<span class="comment">IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,</span></div>
<div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;<span class="comment">FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE</span></div>
<div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;<span class="comment">AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER</span></div>
<div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;<span class="comment">LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,</span></div>
<div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;<span class="comment">OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN</span></div>
<div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;<span class="comment">THE SOFTWARE.</span></div>
<div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;<span class="comment">-----------------------------------------------------------------------------</span></div>
<div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;<span class="comment">*/</span></div>
<div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;<span class="preprocessor">#ifndef __OgreWorkQueue_H__</span></div>
<div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;<span class="preprocessor"></span><span class="preprocessor">#define __OgreWorkQueue_H__</span></div>
<div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;<span class="preprocessor"></span></div>
<div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="OgrePrerequisites_8h.html">OgrePrerequisites.h</a>&quot;</span></div>
<div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="OgreAny_8h.html">OgreAny.h</a>&quot;</span></div>
<div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="OgreSharedPtr_8h.html">OgreSharedPtr.h</a>&quot;</span></div>
<div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="OgreThreadHeaders_8h.html">Threading/OgreThreadHeaders.h</a>&quot;</span></div>
<div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="OgreHeaderPrefix_8h.html">OgreHeaderPrefix.h</a>&quot;</span></div>
<div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;</div>
<div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;<span class="keyword">namespace </span>Ogre</div>
<div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;{</div>
<div class="line"><a name="l00070"></a><span class="lineno"><a class="code" href="classOgre_1_1WorkQueue.html">   70</a></span>&#160;    <span class="keyword">class </span><a class="code" href="OgrePlatform_8h.html#a20566b1253bae200372ed9162489a663">_OgreExport</a> <a class="code" href="classOgre_1_1WorkQueue.html" title="Interface to a general purpose request / response style background work queue.">WorkQueue</a> : <span class="keyword">public</span> <a class="code" href="classOgre_1_1AllocatedObject.html" title="Superclass for all objects that wish to use custom memory allocators when their new / delete operator...">UtilityAlloc</a></div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;    {</div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;    <span class="keyword">protected</span>:</div>
<div class="line"><a name="l00073"></a><span class="lineno"><a class="code" href="classOgre_1_1WorkQueue.html#a30b31250335402eda5a720f7e8a27e47">   73</a></span>&#160;        <span class="keyword">typedef</span> <a class="code" href="structOgre_1_1map.html">map&lt;String, uint16&gt;::type</a> <a class="code" href="classOgre_1_1WorkQueue.html#a30b31250335402eda5a720f7e8a27e47">ChannelMap</a>;</div>
<div class="line"><a name="l00074"></a><span class="lineno"><a class="code" href="classOgre_1_1WorkQueue.html#a4e043b97536f11e70189d8184fbaa7f8">   74</a></span>&#160;        <a class="code" href="classOgre_1_1WorkQueue.html#a30b31250335402eda5a720f7e8a27e47">ChannelMap</a> <a class="code" href="classOgre_1_1WorkQueue.html#a4e043b97536f11e70189d8184fbaa7f8">mChannelMap</a>;</div>
<div class="line"><a name="l00075"></a><span class="lineno"><a class="code" href="classOgre_1_1WorkQueue.html#ad2ff94d54fe961e1e59558f361093b65">   75</a></span>&#160;        <a class="code" href="namespaceOgre.html#aa8263b218e7d187ad5ef03a73a6ad7fd">uint16</a> <a class="code" href="classOgre_1_1WorkQueue.html#ad2ff94d54fe961e1e59558f361093b65">mNextChannel</a>;</div>
<div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;        <a class="code" href="OgreThreadDefinesBoost_8h.html#a2fb96ea8ad9700f804480d1d7f5d692d">OGRE_MUTEX</a>(mChannelMapMutex);</div>
<div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;    <span class="keyword">public</span>:</div>
<div class="line"><a name="l00079"></a><span class="lineno"><a class="code" href="classOgre_1_1WorkQueue.html#a1908257e726af6caa80f1a6cd5682d76">   79</a></span>&#160;        <span class="keyword">typedef</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> <span class="keywordtype">long</span> <span class="keywordtype">int</span> <a class="code" href="classOgre_1_1WorkQueue.html#a1908257e726af6caa80f1a6cd5682d76" title="Numeric identifier for a request.">RequestID</a>;</div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;</div>
<div class="line"><a name="l00083"></a><span class="lineno"><a class="code" href="classOgre_1_1WorkQueue_1_1Request.html">   83</a></span>&#160;        <span class="keyword">class </span><a class="code" href="OgrePlatform_8h.html#a20566b1253bae200372ed9162489a663">_OgreExport</a> <a class="code" href="classOgre_1_1WorkQueue_1_1Request.html" title="General purpose request structure.">Request</a> : <span class="keyword">public</span> <a class="code" href="classOgre_1_1AllocatedObject.html" title="Superclass for all objects that wish to use custom memory allocators when their new / delete operator...">UtilityAlloc</a></div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;        {</div>
<div class="line"><a name="l00085"></a><span class="lineno"><a class="code" href="classOgre_1_1WorkQueue_1_1Request.html#afc5a5e65333384e477426c2f77353b28">   85</a></span>&#160;            <span class="keyword">friend</span> <span class="keyword">class </span><a class="code" href="classOgre_1_1WorkQueue.html" title="Interface to a general purpose request / response style background work queue.">WorkQueue</a>;</div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;        <span class="keyword">protected</span>:</div>
<div class="line"><a name="l00088"></a><span class="lineno"><a class="code" href="classOgre_1_1WorkQueue_1_1Request.html#acb3929d1fa36c620de9db9b5de660937">   88</a></span>&#160;            <a class="code" href="namespaceOgre.html#aa8263b218e7d187ad5ef03a73a6ad7fd">uint16</a> <a class="code" href="classOgre_1_1WorkQueue_1_1Request.html#acb3929d1fa36c620de9db9b5de660937" title="The request channel, as an integer.">mChannel</a>;</div>
<div class="line"><a name="l00090"></a><span class="lineno"><a class="code" href="classOgre_1_1WorkQueue_1_1Request.html#a590a4da4cee5711be64e525e0564cf72">   90</a></span>&#160;            <a class="code" href="namespaceOgre.html#aa8263b218e7d187ad5ef03a73a6ad7fd">uint16</a> <a class="code" href="classOgre_1_1WorkQueue_1_1Request.html#a590a4da4cee5711be64e525e0564cf72" title="The request type, as an integer within the channel (user can define enumerations on this)...">mType</a>;</div>
<div class="line"><a name="l00092"></a><span class="lineno"><a class="code" href="classOgre_1_1WorkQueue_1_1Request.html#ad8d1f9709048464bd8445d5466c7451f">   92</a></span>&#160;            <a class="code" href="classOgre_1_1Any.html" title="Variant type that can hold Any other type.">Any</a> <a class="code" href="classOgre_1_1WorkQueue_1_1Request.html#ad8d1f9709048464bd8445d5466c7451f" title="The details of the request (user defined)">mData</a>;</div>
<div class="line"><a name="l00094"></a><span class="lineno"><a class="code" href="classOgre_1_1WorkQueue_1_1Request.html#ad3731e8a478ae2f522288c0366513352">   94</a></span>&#160;            <a class="code" href="namespaceOgre.html#a119732ea9d1e88bbddc47b4ac0fa21cb">uint8</a> <a class="code" href="classOgre_1_1WorkQueue_1_1Request.html#ad3731e8a478ae2f522288c0366513352" title="Retry count - set this to non-zero to have the request try again on failure.">mRetryCount</a>;</div>
<div class="line"><a name="l00096"></a><span class="lineno"><a class="code" href="classOgre_1_1WorkQueue_1_1Request.html#a5d54982d3c93db2df770394469f776c4">   96</a></span>&#160;            <a class="code" href="classOgre_1_1WorkQueue.html#a1908257e726af6caa80f1a6cd5682d76" title="Numeric identifier for a request.">RequestID</a> <a class="code" href="classOgre_1_1WorkQueue_1_1Request.html#a5d54982d3c93db2df770394469f776c4" title="Identifier (assigned by the system)">mID</a>;</div>
<div class="line"><a name="l00098"></a><span class="lineno"><a class="code" href="classOgre_1_1WorkQueue_1_1Request.html#ab71d4e2b421f8f1920a7e4ca4f43ee73">   98</a></span>&#160;            <span class="keyword">mutable</span> <span class="keywordtype">bool</span> <a class="code" href="classOgre_1_1WorkQueue_1_1Request.html#ab71d4e2b421f8f1920a7e4ca4f43ee73" title="Abort Flag.">mAborted</a>;</div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;</div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;        <span class="keyword">public</span>:</div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;            <a class="code" href="classOgre_1_1WorkQueue_1_1Request.html" title="General purpose request structure.">Request</a>(<a class="code" href="namespaceOgre.html#aa8263b218e7d187ad5ef03a73a6ad7fd">uint16</a> channel, <a class="code" href="namespaceOgre.html#aa8263b218e7d187ad5ef03a73a6ad7fd">uint16</a> rtype, <span class="keyword">const</span> <a class="code" href="classOgre_1_1Any.html" title="Variant type that can hold Any other type.">Any</a>&amp; rData, <a class="code" href="namespaceOgre.html#a119732ea9d1e88bbddc47b4ac0fa21cb">uint8</a> retry, <a class="code" href="classOgre_1_1WorkQueue.html#a1908257e726af6caa80f1a6cd5682d76" title="Numeric identifier for a request.">RequestID</a> rid);</div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;            ~<a class="code" href="classOgre_1_1WorkQueue_1_1Request.html" title="General purpose request structure.">Request</a>();</div>
<div class="line"><a name="l00105"></a><span class="lineno"><a class="code" href="classOgre_1_1WorkQueue_1_1Request.html#a2c9eb47c5193369a6c273455453d3a3c">  105</a></span>&#160;            <span class="keywordtype">void</span> <a class="code" href="classOgre_1_1WorkQueue_1_1Request.html#a2c9eb47c5193369a6c273455453d3a3c" title="Set the abort flag.">abortRequest</a>()<span class="keyword"> const </span>{ mAborted = <span class="keyword">true</span>; }</div>
<div class="line"><a name="l00107"></a><span class="lineno"><a class="code" href="classOgre_1_1WorkQueue_1_1Request.html#aab05288e180b61054443991cb8c2fd68">  107</a></span>&#160;            <a class="code" href="namespaceOgre.html#aa8263b218e7d187ad5ef03a73a6ad7fd">uint16</a> <a class="code" href="classOgre_1_1WorkQueue_1_1Request.html#aab05288e180b61054443991cb8c2fd68" title="Get the request channel (top level categorisation)">getChannel</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> mChannel; }</div>
<div class="line"><a name="l00109"></a><span class="lineno"><a class="code" href="classOgre_1_1WorkQueue_1_1Request.html#a69a54c0507b6686e3c48a21283477ac0">  109</a></span>&#160;            <a class="code" href="namespaceOgre.html#aa8263b218e7d187ad5ef03a73a6ad7fd">uint16</a> <a class="code" href="classOgre_1_1WorkQueue_1_1Request.html#a69a54c0507b6686e3c48a21283477ac0" title="Get the type of this request within the given channel.">getType</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> mType; }</div>
<div class="line"><a name="l00111"></a><span class="lineno"><a class="code" href="classOgre_1_1WorkQueue_1_1Request.html#a97cba781f6894fabd2c23dfd12f344ba">  111</a></span>&#160;            <span class="keyword">const</span> <a class="code" href="classOgre_1_1Any.html" title="Variant type that can hold Any other type.">Any</a>&amp; <a class="code" href="classOgre_1_1WorkQueue_1_1Request.html#a97cba781f6894fabd2c23dfd12f344ba" title="Get the user details of this request.">getData</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> mData; }</div>
<div class="line"><a name="l00113"></a><span class="lineno"><a class="code" href="classOgre_1_1WorkQueue_1_1Request.html#a17eba593da5a1051976053e3599ec7c9">  113</a></span>&#160;            <a class="code" href="namespaceOgre.html#a119732ea9d1e88bbddc47b4ac0fa21cb">uint8</a> <a class="code" href="classOgre_1_1WorkQueue_1_1Request.html#a17eba593da5a1051976053e3599ec7c9" title="Get the remaining retry count.">getRetryCount</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> mRetryCount; }</div>
<div class="line"><a name="l00115"></a><span class="lineno"><a class="code" href="classOgre_1_1WorkQueue_1_1Request.html#a2787c787efe6db76de47fa52e53ec4ec">  115</a></span>&#160;            <a class="code" href="classOgre_1_1WorkQueue.html#a1908257e726af6caa80f1a6cd5682d76" title="Numeric identifier for a request.">RequestID</a> <a class="code" href="classOgre_1_1WorkQueue_1_1Request.html#a2787c787efe6db76de47fa52e53ec4ec" title="Get the identifier of this request.">getID</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> mID; }</div>
<div class="line"><a name="l00117"></a><span class="lineno"><a class="code" href="classOgre_1_1WorkQueue_1_1Request.html#a9edf6b9791e2b39df101a288e1289bb6">  117</a></span>&#160;            <span class="keywordtype">bool</span> <a class="code" href="classOgre_1_1WorkQueue_1_1Request.html#a9edf6b9791e2b39df101a288e1289bb6" title="Get the abort flag.">getAborted</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> mAborted; }</div>
<div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;        };</div>
<div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;</div>
<div class="line"><a name="l00122"></a><span class="lineno"><a class="code" href="structOgre_1_1WorkQueue_1_1Response.html">  122</a></span>&#160;        <span class="keyword">struct </span><a class="code" href="OgrePlatform_8h.html#a20566b1253bae200372ed9162489a663">_OgreExport</a> <a class="code" href="structOgre_1_1WorkQueue_1_1Response.html" title="General purpose response structure.">Response</a> : <span class="keyword">public</span> <a class="code" href="classOgre_1_1AllocatedObject.html" title="Superclass for all objects that wish to use custom memory allocators when their new / delete operator...">UtilityAlloc</a></div>
<div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;        {</div>
<div class="line"><a name="l00125"></a><span class="lineno"><a class="code" href="structOgre_1_1WorkQueue_1_1Response.html#afdbe309b03faf1265f97d4891af4d258">  125</a></span>&#160;            <span class="keyword">const</span> <a class="code" href="classOgre_1_1WorkQueue_1_1Request.html" title="General purpose request structure.">Request</a>* <a class="code" href="structOgre_1_1WorkQueue_1_1Response.html#afdbe309b03faf1265f97d4891af4d258" title="Pointer to the request that this response is in relation to.">mRequest</a>;</div>
<div class="line"><a name="l00127"></a><span class="lineno"><a class="code" href="structOgre_1_1WorkQueue_1_1Response.html#abe22e0d3b55dc09fe6ba3e592f7dc321">  127</a></span>&#160;            <span class="keywordtype">bool</span> <a class="code" href="structOgre_1_1WorkQueue_1_1Response.html#abe22e0d3b55dc09fe6ba3e592f7dc321" title="Whether the work item succeeded or not.">mSuccess</a>;</div>
<div class="line"><a name="l00129"></a><span class="lineno"><a class="code" href="structOgre_1_1WorkQueue_1_1Response.html#aa79894f8c3badaddc48064f4b35141be">  129</a></span>&#160;            <a class="code" href="namespaceOgre.html#af73bbdc8bed8a3e6fcd56bb8fa188c45">String</a> <a class="code" href="structOgre_1_1WorkQueue_1_1Response.html#aa79894f8c3badaddc48064f4b35141be" title="Any diagnostic messages.">mMessages</a>;</div>
<div class="line"><a name="l00131"></a><span class="lineno"><a class="code" href="structOgre_1_1WorkQueue_1_1Response.html#a04980c518c8e22f1f669e6b543a10e20">  131</a></span>&#160;            <a class="code" href="classOgre_1_1Any.html" title="Variant type that can hold Any other type.">Any</a> <a class="code" href="structOgre_1_1WorkQueue_1_1Response.html#a04980c518c8e22f1f669e6b543a10e20" title="Data associated with the result of the process.">mData</a>;</div>
<div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;</div>
<div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;        <span class="keyword">public</span>:</div>
<div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;            <a class="code" href="structOgre_1_1WorkQueue_1_1Response.html" title="General purpose response structure.">Response</a>(<span class="keyword">const</span> <a class="code" href="classOgre_1_1WorkQueue_1_1Request.html" title="General purpose request structure.">Request</a>* rq, <span class="keywordtype">bool</span> success, <span class="keyword">const</span> <a class="code" href="classOgre_1_1Any.html" title="Variant type that can hold Any other type.">Any</a>&amp; data, <span class="keyword">const</span> <a class="code" href="namespaceOgre.html#af73bbdc8bed8a3e6fcd56bb8fa188c45">String</a>&amp; msg = <a class="code" href="classOgre_1_1StringUtil.html#ad2ead745c8c6f4f7056270e22f29e4da" title="Constant blank string, useful for returning by ref where local does not exist.">StringUtil::BLANK</a>);</div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;            ~<a class="code" href="structOgre_1_1WorkQueue_1_1Response.html" title="General purpose response structure.">Response</a>();</div>
<div class="line"><a name="l00137"></a><span class="lineno"><a class="code" href="structOgre_1_1WorkQueue_1_1Response.html#a5f4e4aca88b7c19172507621d367521a">  137</a></span>&#160;            <span class="keyword">const</span> <a class="code" href="classOgre_1_1WorkQueue_1_1Request.html" title="General purpose request structure.">Request</a>* <a class="code" href="structOgre_1_1WorkQueue_1_1Response.html#a5f4e4aca88b7c19172507621d367521a" title="Get the request that this is a response to (NB destruction destroys this)">getRequest</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> mRequest; }</div>
<div class="line"><a name="l00139"></a><span class="lineno"><a class="code" href="structOgre_1_1WorkQueue_1_1Response.html#a64dc34a33331d3dd7537bf03eabf27ec">  139</a></span>&#160;            <span class="keywordtype">bool</span> <a class="code" href="structOgre_1_1WorkQueue_1_1Response.html#a64dc34a33331d3dd7537bf03eabf27ec" title="Return whether this is a successful response.">succeeded</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> mSuccess; }</div>
<div class="line"><a name="l00141"></a><span class="lineno"><a class="code" href="structOgre_1_1WorkQueue_1_1Response.html#a4f02e67c20f209699ea6e9b8bbac9bfb">  141</a></span>&#160;            <span class="keyword">const</span> <a class="code" href="namespaceOgre.html#af73bbdc8bed8a3e6fcd56bb8fa188c45">String</a>&amp; <a class="code" href="structOgre_1_1WorkQueue_1_1Response.html#a4f02e67c20f209699ea6e9b8bbac9bfb" title="Get any diagnostic messages about the process.">getMessages</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> mMessages; }</div>
<div class="line"><a name="l00143"></a><span class="lineno"><a class="code" href="structOgre_1_1WorkQueue_1_1Response.html#a6a658b42012b9dceb78068ad68cc931e">  143</a></span>&#160;            <span class="keyword">const</span> <a class="code" href="classOgre_1_1Any.html" title="Variant type that can hold Any other type.">Any</a>&amp; <a class="code" href="structOgre_1_1WorkQueue_1_1Response.html#a6a658b42012b9dceb78068ad68cc931e" title="Return the response data (user defined, only valid on success)">getData</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> mData; }</div>
<div class="line"><a name="l00145"></a><span class="lineno"><a class="code" href="structOgre_1_1WorkQueue_1_1Response.html#a29ac9eeab02d77b028ec3a3dd8f7964c">  145</a></span>&#160;            <span class="keywordtype">void</span> <a class="code" href="structOgre_1_1WorkQueue_1_1Response.html#a29ac9eeab02d77b028ec3a3dd8f7964c" title="Abort the request.">abortRequest</a>() { mRequest-&gt;abortRequest(); mData.destroy(); }</div>
<div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;        };</div>
<div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;</div>
<div class="line"><a name="l00161"></a><span class="lineno"><a class="code" href="classOgre_1_1WorkQueue_1_1RequestHandler.html">  161</a></span>&#160;        <span class="keyword">class </span><a class="code" href="OgrePlatform_8h.html#a20566b1253bae200372ed9162489a663">_OgreExport</a> <a class="code" href="classOgre_1_1WorkQueue_1_1RequestHandler.html" title="Interface definition for a handler of requests.">RequestHandler</a></div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;        {</div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;        <span class="keyword">public</span>:</div>
<div class="line"><a name="l00164"></a><span class="lineno"><a class="code" href="classOgre_1_1WorkQueue_1_1RequestHandler.html#a37f35aaa5935b91a180d92e5243fccb7">  164</a></span>&#160;            <a class="code" href="classOgre_1_1WorkQueue_1_1RequestHandler.html#a37f35aaa5935b91a180d92e5243fccb7">RequestHandler</a>() {}</div>
<div class="line"><a name="l00165"></a><span class="lineno"><a class="code" href="classOgre_1_1WorkQueue_1_1RequestHandler.html#a0d7c8fced3825d323b12b5dbd167bf83">  165</a></span>&#160;            <span class="keyword">virtual</span> <a class="code" href="classOgre_1_1WorkQueue_1_1RequestHandler.html#a0d7c8fced3825d323b12b5dbd167bf83">~RequestHandler</a>() {}</div>
<div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;</div>
<div class="line"><a name="l00173"></a><span class="lineno"><a class="code" href="classOgre_1_1WorkQueue_1_1RequestHandler.html#adf4a5093c7b789352a0a44629490bc87">  173</a></span>&#160;            <span class="keyword">virtual</span> <span class="keywordtype">bool</span> canHandleRequest(<span class="keyword">const</span> <a class="code" href="classOgre_1_1WorkQueue_1_1Request.html" title="General purpose request structure.">Request</a>* req, <span class="keyword">const</span> <a class="code" href="classOgre_1_1WorkQueue.html" title="Interface to a general purpose request / response style background work queue.">WorkQueue</a>* srcQ) </div>
<div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;            { (void)srcQ; <span class="keywordflow">return</span> !req-&gt;<a class="code" href="classOgre_1_1WorkQueue_1_1Request.html#a9edf6b9791e2b39df101a288e1289bb6" title="Get the abort flag.">getAborted</a>(); }</div>
<div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;</div>
<div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;            <span class="keyword">virtual</span> <a class="code" href="structOgre_1_1WorkQueue_1_1Response.html" title="General purpose response structure.">Response</a>* handleRequest(<span class="keyword">const</span> <a class="code" href="classOgre_1_1WorkQueue_1_1Request.html" title="General purpose request structure.">Request</a>* req, <span class="keyword">const</span> <a class="code" href="classOgre_1_1WorkQueue.html" title="Interface to a general purpose request / response style background work queue.">WorkQueue</a>* srcQ) = 0;</div>
<div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;        };</div>
<div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;</div>
<div class="line"><a name="l00196"></a><span class="lineno"><a class="code" href="classOgre_1_1WorkQueue_1_1ResponseHandler.html">  196</a></span>&#160;        <span class="keyword">class </span><a class="code" href="OgrePlatform_8h.html#a20566b1253bae200372ed9162489a663">_OgreExport</a> <a class="code" href="classOgre_1_1WorkQueue_1_1ResponseHandler.html" title="Interface definition for a handler of responses.">ResponseHandler</a></div>
<div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;        {</div>
<div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;        <span class="keyword">public</span>:</div>
<div class="line"><a name="l00199"></a><span class="lineno"><a class="code" href="classOgre_1_1WorkQueue_1_1ResponseHandler.html#a0e4215e93030a19595bc2d2e30f0a938">  199</a></span>&#160;            <a class="code" href="classOgre_1_1WorkQueue_1_1ResponseHandler.html#a0e4215e93030a19595bc2d2e30f0a938">ResponseHandler</a>() {}</div>
<div class="line"><a name="l00200"></a><span class="lineno"><a class="code" href="classOgre_1_1WorkQueue_1_1ResponseHandler.html#a5fb201476bd4bf5a14425c4598753aab">  200</a></span>&#160;            <span class="keyword">virtual</span> <a class="code" href="classOgre_1_1WorkQueue_1_1ResponseHandler.html#a5fb201476bd4bf5a14425c4598753aab">~ResponseHandler</a>() {}</div>
<div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;</div>
<div class="line"><a name="l00208"></a><span class="lineno"><a class="code" href="classOgre_1_1WorkQueue_1_1ResponseHandler.html#a7a2fabae7f92bed384f100526055a899">  208</a></span>&#160;            <span class="keyword">virtual</span> <span class="keywordtype">bool</span> canHandleResponse(<span class="keyword">const</span> <a class="code" href="structOgre_1_1WorkQueue_1_1Response.html" title="General purpose response structure.">Response</a>* res, <span class="keyword">const</span> <a class="code" href="classOgre_1_1WorkQueue.html" title="Interface to a general purpose request / response style background work queue.">WorkQueue</a>* srcQ) </div>
<div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;            { (void)srcQ; <span class="keywordflow">return</span> !res-&gt;<a class="code" href="structOgre_1_1WorkQueue_1_1Response.html#a5f4e4aca88b7c19172507621d367521a" title="Get the request that this is a response to (NB destruction destroys this)">getRequest</a>()-&gt;<a class="code" href="classOgre_1_1WorkQueue_1_1Request.html#a9edf6b9791e2b39df101a288e1289bb6" title="Get the abort flag.">getAborted</a>(); }</div>
<div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;</div>
<div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;            <span class="keyword">virtual</span> <span class="keywordtype">void</span> handleResponse(<span class="keyword">const</span> <a class="code" href="structOgre_1_1WorkQueue_1_1Response.html" title="General purpose response structure.">Response</a>* res, <span class="keyword">const</span> <a class="code" href="classOgre_1_1WorkQueue.html" title="Interface to a general purpose request / response style background work queue.">WorkQueue</a>* srcQ) = 0;</div>
<div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;        };</div>
<div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;</div>
<div class="line"><a name="l00221"></a><span class="lineno"><a class="code" href="classOgre_1_1WorkQueue.html#a522d959bdec37026c5ad9eb2e2b189cc">  221</a></span>&#160;        <a class="code" href="classOgre_1_1WorkQueue.html#a522d959bdec37026c5ad9eb2e2b189cc">WorkQueue</a>() : mNextChannel(0) {}</div>
<div class="line"><a name="l00222"></a><span class="lineno"><a class="code" href="classOgre_1_1WorkQueue.html#a2e7a64f2d114bf2828355e83e43f8172">  222</a></span>&#160;        <span class="keyword">virtual</span> <a class="code" href="classOgre_1_1WorkQueue.html#a2e7a64f2d114bf2828355e83e43f8172">~WorkQueue</a>() {}</div>
<div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;</div>
<div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;        <span class="keyword">virtual</span> <span class="keywordtype">void</span> startup(<span class="keywordtype">bool</span> forceRestart = <span class="keyword">true</span>) = 0;</div>
<div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;        <span class="keyword">virtual</span> <span class="keywordtype">void</span> addRequestHandler(<a class="code" href="namespaceOgre.html#aa8263b218e7d187ad5ef03a73a6ad7fd">uint16</a> channel, RequestHandler* rh) = 0;</div>
<div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;        <span class="keyword">virtual</span> <span class="keywordtype">void</span> removeRequestHandler(<a class="code" href="namespaceOgre.html#aa8263b218e7d187ad5ef03a73a6ad7fd">uint16</a> channel, RequestHandler* rh) = 0;</div>
<div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;</div>
<div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;        <span class="keyword">virtual</span> <span class="keywordtype">void</span> addResponseHandler(<a class="code" href="namespaceOgre.html#aa8263b218e7d187ad5ef03a73a6ad7fd">uint16</a> channel, ResponseHandler* rh) = 0;</div>
<div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;        <span class="keyword">virtual</span> <span class="keywordtype">void</span> removeResponseHandler(<a class="code" href="namespaceOgre.html#aa8263b218e7d187ad5ef03a73a6ad7fd">uint16</a> channel, ResponseHandler* rh) = 0;</div>
<div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;</div>
<div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;        <span class="keyword">virtual</span> RequestID addRequest(<a class="code" href="namespaceOgre.html#aa8263b218e7d187ad5ef03a73a6ad7fd">uint16</a> channel, <a class="code" href="namespaceOgre.html#aa8263b218e7d187ad5ef03a73a6ad7fd">uint16</a> requestType, <span class="keyword">const</span> <a class="code" href="classOgre_1_1Any.html" title="Variant type that can hold Any other type.">Any</a>&amp; rData, <a class="code" href="namespaceOgre.html#a119732ea9d1e88bbddc47b4ac0fa21cb">uint8</a> retryCount = 0, </div>
<div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;            <span class="keywordtype">bool</span> forceSynchronous = <span class="keyword">false</span>, <span class="keywordtype">bool</span> idleThread = <span class="keyword">false</span>) = 0;</div>
<div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;</div>
<div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;        <span class="keyword">virtual</span> <span class="keywordtype">void</span> abortRequest(RequestID <span class="keywordtype">id</span>) = 0;</div>
<div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;</div>
<div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;        <span class="keyword">virtual</span> <span class="keywordtype">void</span> abortRequestsByChannel(<a class="code" href="namespaceOgre.html#aa8263b218e7d187ad5ef03a73a6ad7fd">uint16</a> channel) = 0;</div>
<div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;</div>
<div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;        <span class="keyword">virtual</span> <span class="keywordtype">void</span> abortPendingRequestsByChannel(<a class="code" href="namespaceOgre.html#aa8263b218e7d187ad5ef03a73a6ad7fd">uint16</a> channel) = 0;</div>
<div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;</div>
<div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;        <span class="keyword">virtual</span> <span class="keywordtype">void</span> abortAllRequests() = 0;</div>
<div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;        </div>
<div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;        <span class="keyword">virtual</span> <span class="keywordtype">void</span> setPaused(<span class="keywordtype">bool</span> pause) = 0;</div>
<div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;        <span class="keyword">virtual</span> <span class="keywordtype">bool</span> isPaused() <span class="keyword">const</span> = 0;</div>
<div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;</div>
<div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;        <span class="keyword">virtual</span> <span class="keywordtype">void</span> setRequestsAccepted(<span class="keywordtype">bool</span> accept) = 0;</div>
<div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;        <span class="keyword">virtual</span> <span class="keywordtype">bool</span> getRequestsAccepted() <span class="keyword">const</span> = 0;</div>
<div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;</div>
<div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;        <span class="keyword">virtual</span> <span class="keywordtype">void</span> processResponses() = 0; </div>
<div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;</div>
<div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;        <span class="keyword">virtual</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> getResponseProcessingTimeLimit() <span class="keyword">const</span> = 0;</div>
<div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;</div>
<div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;        <span class="keyword">virtual</span> <span class="keywordtype">void</span> setResponseProcessingTimeLimit(<span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> ms) = 0;</div>
<div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;</div>
<div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;        <span class="keyword">virtual</span> <span class="keywordtype">void</span> shutdown() = 0;</div>
<div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;</div>
<div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;        <span class="keyword">virtual</span> <a class="code" href="namespaceOgre.html#aa8263b218e7d187ad5ef03a73a6ad7fd">uint16</a> getChannel(<span class="keyword">const</span> <a class="code" href="namespaceOgre.html#af73bbdc8bed8a3e6fcd56bb8fa188c45">String</a>&amp; channelName);</div>
<div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;</div>
<div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;    };</div>
<div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;</div>
<div class="line"><a name="l00360"></a><span class="lineno"><a class="code" href="classOgre_1_1DefaultWorkQueueBase.html">  360</a></span>&#160;    <span class="keyword">class </span><a class="code" href="OgrePlatform_8h.html#a20566b1253bae200372ed9162489a663">_OgreExport</a> <a class="code" href="classOgre_1_1DefaultWorkQueueBase.html" title="Base for a general purpose request / response style background work queue.">DefaultWorkQueueBase</a> : <span class="keyword">public</span> <a class="code" href="classOgre_1_1WorkQueue.html" title="Interface to a general purpose request / response style background work queue.">WorkQueue</a></div>
<div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;    {</div>
<div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;    <span class="keyword">public</span>:</div>
<div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;</div>
<div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;        <a class="code" href="classOgre_1_1DefaultWorkQueueBase.html" title="Base for a general purpose request / response style background work queue.">DefaultWorkQueueBase</a>(<span class="keyword">const</span> <a class="code" href="namespaceOgre.html#af73bbdc8bed8a3e6fcd56bb8fa188c45">String</a>&amp; name = <a class="code" href="classOgre_1_1StringUtil.html#ad2ead745c8c6f4f7056270e22f29e4da" title="Constant blank string, useful for returning by ref where local does not exist.">StringUtil::BLANK</a>);</div>
<div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;        <span class="keyword">virtual</span> ~<a class="code" href="classOgre_1_1DefaultWorkQueueBase.html" title="Base for a general purpose request / response style background work queue.">DefaultWorkQueueBase</a>();</div>
<div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;        <span class="keyword">const</span> <a class="code" href="namespaceOgre.html#af73bbdc8bed8a3e6fcd56bb8fa188c45">String</a>&amp; getName() <span class="keyword">const</span>;</div>
<div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;        <span class="keyword">virtual</span> <span class="keywordtype">size_t</span> getWorkerThreadCount() <span class="keyword">const</span>;</div>
<div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;</div>
<div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;        <span class="keyword">virtual</span> <span class="keywordtype">void</span> setWorkerThreadCount(<span class="keywordtype">size_t</span> c);</div>
<div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;</div>
<div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;        <span class="keyword">virtual</span> <span class="keywordtype">bool</span> getWorkersCanAccessRenderSystem() <span class="keyword">const</span>;</div>
<div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;</div>
<div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;</div>
<div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;        <span class="keyword">virtual</span> <span class="keywordtype">void</span> setWorkersCanAccessRenderSystem(<span class="keywordtype">bool</span> access);</div>
<div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;</div>
<div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;        <span class="keyword">virtual</span> <span class="keywordtype">void</span> _processNextRequest();</div>
<div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;</div>
<div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;        <span class="keyword">virtual</span> <span class="keywordtype">void</span> _threadMain() = 0;</div>
<div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;</div>
<div class="line"><a name="l00422"></a><span class="lineno"><a class="code" href="classOgre_1_1DefaultWorkQueueBase.html#a855d8e4410005c1c33fa1c399021667d">  422</a></span>&#160;        <span class="keyword">virtual</span> <span class="keywordtype">bool</span> <a class="code" href="classOgre_1_1DefaultWorkQueueBase.html#a855d8e4410005c1c33fa1c399021667d" title="Returns whether the queue is trying to shut down.">isShuttingDown</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> mShuttingDown; }</div>
<div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;</div>
<div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;        <span class="keyword">virtual</span> <span class="keywordtype">void</span> addRequestHandler(<a class="code" href="namespaceOgre.html#aa8263b218e7d187ad5ef03a73a6ad7fd">uint16</a> channel, RequestHandler* rh);</div>
<div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;        <span class="keyword">virtual</span> <span class="keywordtype">void</span> removeRequestHandler(<a class="code" href="namespaceOgre.html#aa8263b218e7d187ad5ef03a73a6ad7fd">uint16</a> channel, RequestHandler* rh);</div>
<div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;        <span class="keyword">virtual</span> <span class="keywordtype">void</span> addResponseHandler(<a class="code" href="namespaceOgre.html#aa8263b218e7d187ad5ef03a73a6ad7fd">uint16</a> channel, ResponseHandler* rh);</div>
<div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;        <span class="keyword">virtual</span> <span class="keywordtype">void</span> removeResponseHandler(<a class="code" href="namespaceOgre.html#aa8263b218e7d187ad5ef03a73a6ad7fd">uint16</a> channel, ResponseHandler* rh);</div>
<div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;</div>
<div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;        <span class="keyword">virtual</span> RequestID addRequest(<a class="code" href="namespaceOgre.html#aa8263b218e7d187ad5ef03a73a6ad7fd">uint16</a> channel, <a class="code" href="namespaceOgre.html#aa8263b218e7d187ad5ef03a73a6ad7fd">uint16</a> requestType, <span class="keyword">const</span> <a class="code" href="classOgre_1_1Any.html" title="Variant type that can hold Any other type.">Any</a>&amp; rData, <a class="code" href="namespaceOgre.html#a119732ea9d1e88bbddc47b4ac0fa21cb">uint8</a> retryCount = 0, </div>
<div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;            <span class="keywordtype">bool</span> forceSynchronous = <span class="keyword">false</span>, <span class="keywordtype">bool</span> idleThread = <span class="keyword">false</span>);</div>
<div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;        <span class="keyword">virtual</span> <span class="keywordtype">void</span> abortRequest(RequestID <span class="keywordtype">id</span>);</div>
<div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;        <span class="keyword">virtual</span> <span class="keywordtype">void</span> abortRequestsByChannel(<a class="code" href="namespaceOgre.html#aa8263b218e7d187ad5ef03a73a6ad7fd">uint16</a> channel);</div>
<div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;        <span class="keyword">virtual</span> <span class="keywordtype">void</span> abortPendingRequestsByChannel(<a class="code" href="namespaceOgre.html#aa8263b218e7d187ad5ef03a73a6ad7fd">uint16</a> channel);</div>
<div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;        <span class="keyword">virtual</span> <span class="keywordtype">void</span> abortAllRequests();</div>
<div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;        <span class="keyword">virtual</span> <span class="keywordtype">void</span> setPaused(<span class="keywordtype">bool</span> pause);</div>
<div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;        <span class="keyword">virtual</span> <span class="keywordtype">bool</span> isPaused() <span class="keyword">const</span>;</div>
<div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;        <span class="keyword">virtual</span> <span class="keywordtype">void</span> setRequestsAccepted(<span class="keywordtype">bool</span> accept);</div>
<div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;        <span class="keyword">virtual</span> <span class="keywordtype">bool</span> getRequestsAccepted() <span class="keyword">const</span>;</div>
<div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;        <span class="keyword">virtual</span> <span class="keywordtype">void</span> processResponses(); </div>
<div class="line"><a name="l00455"></a><span class="lineno"><a class="code" href="classOgre_1_1DefaultWorkQueueBase.html#a415418e6732bed1a9ab760050fd37712">  455</a></span>&#160;        <span class="keyword">virtual</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> <a class="code" href="classOgre_1_1DefaultWorkQueueBase.html#a415418e6732bed1a9ab760050fd37712" title="Get the time limit imposed on the processing of responses in a single frame, in milliseconds (0 indic...">getResponseProcessingTimeLimit</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> mResposeTimeLimitMS; }</div>
<div class="line"><a name="l00457"></a><span class="lineno"><a class="code" href="classOgre_1_1DefaultWorkQueueBase.html#a7b7a4119647b82187af2341d96f51e3b">  457</a></span>&#160;        <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classOgre_1_1DefaultWorkQueueBase.html#a7b7a4119647b82187af2341d96f51e3b" title="Set the time limit imposed on the processing of responses in a single frame, in milliseconds (0 indic...">setResponseProcessingTimeLimit</a>(<span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> ms) { mResposeTimeLimitMS = ms; }</div>
<div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;    <span class="keyword">protected</span>:</div>
<div class="line"><a name="l00459"></a><span class="lineno"><a class="code" href="classOgre_1_1DefaultWorkQueueBase.html#a5b04be635a457d43eba4308702783323">  459</a></span>&#160;        <a class="code" href="namespaceOgre.html#af73bbdc8bed8a3e6fcd56bb8fa188c45">String</a> <a class="code" href="classOgre_1_1DefaultWorkQueueBase.html#a5b04be635a457d43eba4308702783323">mName</a>;</div>
<div class="line"><a name="l00460"></a><span class="lineno"><a class="code" href="classOgre_1_1DefaultWorkQueueBase.html#acb6b9461db930de8fd0f1cd10a92fef7">  460</a></span>&#160;        <span class="keywordtype">size_t</span> <a class="code" href="classOgre_1_1DefaultWorkQueueBase.html#acb6b9461db930de8fd0f1cd10a92fef7">mWorkerThreadCount</a>;</div>
<div class="line"><a name="l00461"></a><span class="lineno"><a class="code" href="classOgre_1_1DefaultWorkQueueBase.html#a9d869bc3efeccd2210c9eeb6e7b98c13">  461</a></span>&#160;        <span class="keywordtype">bool</span> <a class="code" href="classOgre_1_1DefaultWorkQueueBase.html#a9d869bc3efeccd2210c9eeb6e7b98c13">mWorkerRenderSystemAccess</a>;</div>
<div class="line"><a name="l00462"></a><span class="lineno"><a class="code" href="classOgre_1_1DefaultWorkQueueBase.html#af097c9e8aa35a894a3a1144b16e89c88">  462</a></span>&#160;        <span class="keywordtype">bool</span> <a class="code" href="classOgre_1_1DefaultWorkQueueBase.html#af097c9e8aa35a894a3a1144b16e89c88">mIsRunning</a>;</div>
<div class="line"><a name="l00463"></a><span class="lineno"><a class="code" href="classOgre_1_1DefaultWorkQueueBase.html#ad855d24711ae89c19739e105b278ce13">  463</a></span>&#160;        <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> <a class="code" href="classOgre_1_1DefaultWorkQueueBase.html#ad855d24711ae89c19739e105b278ce13">mResposeTimeLimitMS</a>;</div>
<div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;</div>
<div class="line"><a name="l00465"></a><span class="lineno"><a class="code" href="classOgre_1_1DefaultWorkQueueBase.html#a1332289260fd3c38bc31be1e7346346c">  465</a></span>&#160;        <span class="keyword">typedef</span> <a class="code" href="structOgre_1_1deque.html">deque&lt;Request*&gt;::type</a> <a class="code" href="classOgre_1_1DefaultWorkQueueBase.html#a1332289260fd3c38bc31be1e7346346c">RequestQueue</a>;</div>
<div class="line"><a name="l00466"></a><span class="lineno"><a class="code" href="classOgre_1_1DefaultWorkQueueBase.html#a2e79d9e50dba8e011013abe3373dfe96">  466</a></span>&#160;        <span class="keyword">typedef</span> <a class="code" href="structOgre_1_1deque.html">deque&lt;Response*&gt;::type</a> <a class="code" href="classOgre_1_1DefaultWorkQueueBase.html#a2e79d9e50dba8e011013abe3373dfe96">ResponseQueue</a>;</div>
<div class="line"><a name="l00467"></a><span class="lineno"><a class="code" href="classOgre_1_1DefaultWorkQueueBase.html#a6af06d193129b18b02967c2db64d06a8">  467</a></span>&#160;        <a class="code" href="classOgre_1_1DefaultWorkQueueBase.html#a1332289260fd3c38bc31be1e7346346c">RequestQueue</a> <a class="code" href="classOgre_1_1DefaultWorkQueueBase.html#a6af06d193129b18b02967c2db64d06a8">mRequestQueue</a>; <span class="comment">// Guarded by mRequestMutex</span></div>
<div class="line"><a name="l00468"></a><span class="lineno"><a class="code" href="classOgre_1_1DefaultWorkQueueBase.html#a4f03dc006c5e89c233dd0c06ae343f13">  468</a></span>&#160;        <a class="code" href="classOgre_1_1DefaultWorkQueueBase.html#a1332289260fd3c38bc31be1e7346346c">RequestQueue</a> <a class="code" href="classOgre_1_1DefaultWorkQueueBase.html#a4f03dc006c5e89c233dd0c06ae343f13">mProcessQueue</a>; <span class="comment">// Guarded by mProcessMutex</span></div>
<div class="line"><a name="l00469"></a><span class="lineno"><a class="code" href="classOgre_1_1DefaultWorkQueueBase.html#a08a0a4228b167ec236d5fbf63eefa11c">  469</a></span>&#160;        <a class="code" href="classOgre_1_1DefaultWorkQueueBase.html#a2e79d9e50dba8e011013abe3373dfe96">ResponseQueue</a> <a class="code" href="classOgre_1_1DefaultWorkQueueBase.html#a08a0a4228b167ec236d5fbf63eefa11c">mResponseQueue</a>; <span class="comment">// Guarded by mResponseMutex</span></div>
<div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;</div>
<div class="line"><a name="l00472"></a><span class="lineno"><a class="code" href="structOgre_1_1DefaultWorkQueueBase_1_1OGRE__THREAD__WORKER__INHERIT.html">  472</a></span>&#160;        <span class="keyword">struct </span><a class="code" href="OgrePlatform_8h.html#a20566b1253bae200372ed9162489a663">_OgreExport</a> WorkerFunc <a class="code" href="structOgre_1_1DefaultWorkQueueBase_1_1OGRE__THREAD__WORKER__INHERIT.html" title="Thread function.">OGRE_THREAD_WORKER_INHERIT</a></div>
<div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;        {</div>
<div class="line"><a name="l00474"></a><span class="lineno"><a class="code" href="structOgre_1_1DefaultWorkQueueBase_1_1OGRE__THREAD__WORKER__INHERIT.html#a76c32be63b9643d2a32e1c219a73c1bc">  474</a></span>&#160;            <a class="code" href="classOgre_1_1DefaultWorkQueueBase.html" title="Base for a general purpose request / response style background work queue.">DefaultWorkQueueBase</a>* <a class="code" href="structOgre_1_1DefaultWorkQueueBase_1_1OGRE__THREAD__WORKER__INHERIT.html#a76c32be63b9643d2a32e1c219a73c1bc">mQueue</a>;</div>
<div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;</div>
<div class="line"><a name="l00476"></a><span class="lineno"><a class="code" href="structOgre_1_1DefaultWorkQueueBase_1_1OGRE__THREAD__WORKER__INHERIT.html#ac3eb4efc2bf56cf25eae4f2f28d44c5c">  476</a></span>&#160;            WorkerFunc(<a class="code" href="classOgre_1_1DefaultWorkQueueBase.html" title="Base for a general purpose request / response style background work queue.">DefaultWorkQueueBase</a>* q) </div>
<div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;                : mQueue(q) {}</div>
<div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;</div>
<div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;            <span class="keywordtype">void</span> operator()();</div>
<div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;            </div>
<div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;            <span class="keywordtype">void</span> operator()() <span class="keyword">const</span>;</div>
<div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;</div>
<div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;            <span class="keywordtype">void</span> run();</div>
<div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;        };</div>
<div class="line"><a name="l00485"></a><span class="lineno"><a class="code" href="classOgre_1_1DefaultWorkQueueBase.html#a1b541ce363355b29709065e4402c4cc3">  485</a></span>&#160;        WorkerFunc* <a class="code" href="classOgre_1_1DefaultWorkQueueBase.html#a1b541ce363355b29709065e4402c4cc3">mWorkerFunc</a>;</div>
<div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;</div>
<div class="line"><a name="l00491"></a><span class="lineno"><a class="code" href="classOgre_1_1DefaultWorkQueueBase_1_1RequestHandlerHolder.html">  491</a></span>&#160;        <span class="keyword">class </span><a class="code" href="OgrePlatform_8h.html#a20566b1253bae200372ed9162489a663">_OgreExport</a> <a class="code" href="classOgre_1_1DefaultWorkQueueBase_1_1RequestHandlerHolder.html" title="Intermediate structure to hold a pointer to a request handler which provides insurance against the ha...">RequestHandlerHolder</a> : <span class="keyword">public</span> <a class="code" href="classOgre_1_1AllocatedObject.html" title="Superclass for all objects that wish to use custom memory allocators when their new / delete operator...">UtilityAlloc</a></div>
<div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;        {</div>
<div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;        <span class="keyword">protected</span>:</div>
<div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;            <a class="code" href="OgreThreadDefinesBoost_8h.html#afd886be58b0d9b415076b07abfcc50fc">OGRE_RW_MUTEX</a>(mRWMutex);</div>
<div class="line"><a name="l00495"></a><span class="lineno"><a class="code" href="classOgre_1_1DefaultWorkQueueBase_1_1RequestHandlerHolder.html#a298d2b179943f0db597e2b6077f94724">  495</a></span>&#160;            RequestHandler* <a class="code" href="classOgre_1_1DefaultWorkQueueBase_1_1RequestHandlerHolder.html#a298d2b179943f0db597e2b6077f94724">mHandler</a>;</div>
<div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;        <span class="keyword">public</span>:</div>
<div class="line"><a name="l00497"></a><span class="lineno"><a class="code" href="classOgre_1_1DefaultWorkQueueBase_1_1RequestHandlerHolder.html#afaa91759d6e5dc5ec313ffebfc57241c">  497</a></span>&#160;            <a class="code" href="classOgre_1_1DefaultWorkQueueBase_1_1RequestHandlerHolder.html" title="Intermediate structure to hold a pointer to a request handler which provides insurance against the ha...">RequestHandlerHolder</a>(RequestHandler* handler)</div>
<div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;                : mHandler(handler) {}</div>
<div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;</div>
<div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;            <span class="comment">// Disconnect the handler to allow it to be destroyed</span></div>
<div class="line"><a name="l00501"></a><span class="lineno"><a class="code" href="classOgre_1_1DefaultWorkQueueBase_1_1RequestHandlerHolder.html#af754fb08a428c3b03a906796796cf3ab">  501</a></span>&#160;            <span class="keywordtype">void</span> disconnectHandler()</div>
<div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;            {</div>
<div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;                <span class="comment">// write lock - must wait for all requests to finish</span></div>
<div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;                <a class="code" href="OgreThreadDefinesBoost_8h.html#a0a38f532fc987f34e7ffa1d18b770fc9">OGRE_LOCK_RW_MUTEX_WRITE</a>(mRWMutex);</div>
<div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160;                mHandler = 0;</div>
<div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;            }</div>
<div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;</div>
<div class="line"><a name="l00511"></a><span class="lineno"><a class="code" href="classOgre_1_1DefaultWorkQueueBase_1_1RequestHandlerHolder.html#a5b0863b8997318d9df5fd04dd61d6229">  511</a></span>&#160;            RequestHandler* <a class="code" href="classOgre_1_1DefaultWorkQueueBase_1_1RequestHandlerHolder.html#a5b0863b8997318d9df5fd04dd61d6229" title="Get handler pointer - note, only use this for == comparison or similar, do not attempt to call it as ...">getHandler</a>() { <span class="keywordflow">return</span> mHandler; }</div>
<div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;</div>
<div class="line"><a name="l00516"></a><span class="lineno"><a class="code" href="classOgre_1_1DefaultWorkQueueBase_1_1RequestHandlerHolder.html#a860e3df6911db6ac4808680ffc23e991">  516</a></span>&#160;            <a class="code" href="structOgre_1_1WorkQueue_1_1Response.html" title="General purpose response structure.">Response</a>* handleRequest(<span class="keyword">const</span> <a class="code" href="classOgre_1_1WorkQueue_1_1Request.html" title="General purpose request structure.">Request</a>* req, <span class="keyword">const</span> <a class="code" href="classOgre_1_1WorkQueue.html" title="Interface to a general purpose request / response style background work queue.">WorkQueue</a>* srcQ)</div>
<div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;            {</div>
<div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160;                <span class="comment">// Read mutex so that multiple requests can be processed by the</span></div>
<div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160;                <span class="comment">// same handler in parallel if required</span></div>
<div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160;                <a class="code" href="OgreThreadDefinesBoost_8h.html#a94e5c080fee840c4ee87132157cc3eda">OGRE_LOCK_RW_MUTEX_READ</a>(mRWMutex);</div>
<div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160;                <a class="code" href="structOgre_1_1WorkQueue_1_1Response.html" title="General purpose response structure.">Response</a>* response = 0;</div>
<div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;                <span class="keywordflow">if</span> (mHandler)</div>
<div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;                {</div>
<div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160;                    <span class="keywordflow">if</span> (mHandler-&gt;canHandleRequest(req, srcQ))</div>
<div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160;                    {</div>
<div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160;                        response = mHandler-&gt;handleRequest(req, srcQ);</div>
<div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160;                    }</div>
<div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;                }</div>
<div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160;                <span class="keywordflow">return</span> response;</div>
<div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160;            }</div>
<div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160;</div>
<div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160;        };</div>
<div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160;        <span class="comment">// Hold these by shared pointer so they can be copied keeping same instance</span></div>
<div class="line"><a name="l00534"></a><span class="lineno"><a class="code" href="classOgre_1_1DefaultWorkQueueBase.html#a3c0e76f0b22dcfd18977998f572ff71c">  534</a></span>&#160;        <span class="keyword">typedef</span> <a class="code" href="classOgre_1_1SharedPtr.html" title="Reference-counted shared pointer, used for objects where implicit destruction is required.">SharedPtr&lt;RequestHandlerHolder&gt;</a> <a class="code" href="classOgre_1_1DefaultWorkQueueBase.html#a3c0e76f0b22dcfd18977998f572ff71c">RequestHandlerHolderPtr</a>;</div>
<div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160;</div>
<div class="line"><a name="l00536"></a><span class="lineno"><a class="code" href="classOgre_1_1DefaultWorkQueueBase.html#a8bb1fe1911740f08c88b227175a8f242">  536</a></span>&#160;        <span class="keyword">typedef</span> <a class="code" href="structOgre_1_1list.html#ac64759673476a6852c0a09e1acec2a8c">list&lt;RequestHandlerHolderPtr&gt;::type</a> <a class="code" href="classOgre_1_1DefaultWorkQueueBase.html#a8bb1fe1911740f08c88b227175a8f242">RequestHandlerList</a>;</div>
<div class="line"><a name="l00537"></a><span class="lineno"><a class="code" href="classOgre_1_1DefaultWorkQueueBase.html#a833a1a0e5e773052dbd8bdcd3dcf9929">  537</a></span>&#160;        <span class="keyword">typedef</span> <a class="code" href="structOgre_1_1list.html#ac64759673476a6852c0a09e1acec2a8c">list&lt;ResponseHandler*&gt;::type</a> <a class="code" href="classOgre_1_1DefaultWorkQueueBase.html#a833a1a0e5e773052dbd8bdcd3dcf9929">ResponseHandlerList</a>;</div>
<div class="line"><a name="l00538"></a><span class="lineno"><a class="code" href="classOgre_1_1DefaultWorkQueueBase.html#ae8772337dbdd3d55276776a0af69fa64">  538</a></span>&#160;        <span class="keyword">typedef</span> <a class="code" href="structOgre_1_1map.html">map&lt;uint16, RequestHandlerList&gt;::type</a> <a class="code" href="classOgre_1_1DefaultWorkQueueBase.html#ae8772337dbdd3d55276776a0af69fa64">RequestHandlerListByChannel</a>;</div>
<div class="line"><a name="l00539"></a><span class="lineno"><a class="code" href="classOgre_1_1DefaultWorkQueueBase.html#a7ca18891b4c7ea5eafcb10da2dddb79b">  539</a></span>&#160;        <span class="keyword">typedef</span> <a class="code" href="structOgre_1_1map.html">map&lt;uint16, ResponseHandlerList&gt;::type</a> <a class="code" href="classOgre_1_1DefaultWorkQueueBase.html#a7ca18891b4c7ea5eafcb10da2dddb79b">ResponseHandlerListByChannel</a>;</div>
<div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160;</div>
<div class="line"><a name="l00541"></a><span class="lineno"><a class="code" href="classOgre_1_1DefaultWorkQueueBase.html#acf77730bbb20b79f60fbcb26906c165a">  541</a></span>&#160;        <a class="code" href="classOgre_1_1DefaultWorkQueueBase.html#ae8772337dbdd3d55276776a0af69fa64">RequestHandlerListByChannel</a> <a class="code" href="classOgre_1_1DefaultWorkQueueBase.html#acf77730bbb20b79f60fbcb26906c165a">mRequestHandlers</a>;</div>
<div class="line"><a name="l00542"></a><span class="lineno"><a class="code" href="classOgre_1_1DefaultWorkQueueBase.html#abd6a1a72dd9fb47da33cf2e4b40c1736">  542</a></span>&#160;        <a class="code" href="classOgre_1_1DefaultWorkQueueBase.html#a7ca18891b4c7ea5eafcb10da2dddb79b">ResponseHandlerListByChannel</a> <a class="code" href="classOgre_1_1DefaultWorkQueueBase.html#abd6a1a72dd9fb47da33cf2e4b40c1736">mResponseHandlers</a>;</div>
<div class="line"><a name="l00543"></a><span class="lineno"><a class="code" href="classOgre_1_1DefaultWorkQueueBase.html#a105accd5cd88eeab80dcf3bcaa93a756">  543</a></span>&#160;        RequestID <a class="code" href="classOgre_1_1DefaultWorkQueueBase.html#a105accd5cd88eeab80dcf3bcaa93a756">mRequestCount</a>; <span class="comment">// Guarded by mRequestMutex</span></div>
<div class="line"><a name="l00544"></a><span class="lineno"><a class="code" href="classOgre_1_1DefaultWorkQueueBase.html#a1d02ca6b211ea6e87de25e6003a6dcaf">  544</a></span>&#160;        <span class="keywordtype">bool</span> <a class="code" href="classOgre_1_1DefaultWorkQueueBase.html#a1d02ca6b211ea6e87de25e6003a6dcaf">mPaused</a>;</div>
<div class="line"><a name="l00545"></a><span class="lineno"><a class="code" href="classOgre_1_1DefaultWorkQueueBase.html#aa291e06e7f5d7e167e4417c63d48a93f">  545</a></span>&#160;        <span class="keywordtype">bool</span> <a class="code" href="classOgre_1_1DefaultWorkQueueBase.html#aa291e06e7f5d7e167e4417c63d48a93f">mAcceptRequests</a>;</div>
<div class="line"><a name="l00546"></a><span class="lineno"><a class="code" href="classOgre_1_1DefaultWorkQueueBase.html#aa8e42b3888b8f39e5393789ee9de2c45">  546</a></span>&#160;        <span class="keywordtype">bool</span> <a class="code" href="classOgre_1_1DefaultWorkQueueBase.html#aa8e42b3888b8f39e5393789ee9de2c45">mShuttingDown</a>;</div>
<div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160;</div>
<div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160;        <span class="comment">//NOTE: If you lock multiple mutexes at the same time, the order is important!</span></div>
<div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160;        <span class="comment">// For example if threadA locks mIdleMutex first then tries to lock mProcessMutex,</span></div>
<div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160;        <span class="comment">// and threadB locks mProcessMutex first, then mIdleMutex. In this case you can get livelock and the system is dead!</span></div>
<div class="line"><a name="l00551"></a><span class="lineno">  551</span>&#160;        <span class="comment">//RULE: Lock mProcessMutex before other mutex, to prevent livelocks</span></div>
<div class="line"><a name="l00552"></a><span class="lineno">  552</span>&#160;        <a class="code" href="OgreThreadDefinesBoost_8h.html#a2fb96ea8ad9700f804480d1d7f5d692d">OGRE_MUTEX</a>(mIdleMutex);</div>
<div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160;        <a class="code" href="OgreThreadDefinesBoost_8h.html#a2fb96ea8ad9700f804480d1d7f5d692d">OGRE_MUTEX</a>(mRequestMutex);</div>
<div class="line"><a name="l00554"></a><span class="lineno">  554</span>&#160;        <a class="code" href="OgreThreadDefinesBoost_8h.html#a2fb96ea8ad9700f804480d1d7f5d692d">OGRE_MUTEX</a>(mProcessMutex);</div>
<div class="line"><a name="l00555"></a><span class="lineno">  555</span>&#160;        <a class="code" href="OgreThreadDefinesBoost_8h.html#a2fb96ea8ad9700f804480d1d7f5d692d">OGRE_MUTEX</a>(mResponseMutex);</div>
<div class="line"><a name="l00556"></a><span class="lineno">  556</span>&#160;        <a class="code" href="OgreThreadDefinesBoost_8h.html#afd886be58b0d9b415076b07abfcc50fc">OGRE_RW_MUTEX</a>(mRequestHandlerMutex);</div>
<div class="line"><a name="l00557"></a><span class="lineno">  557</span>&#160;</div>
<div class="line"><a name="l00558"></a><span class="lineno">  558</span>&#160;</div>
<div class="line"><a name="l00559"></a><span class="lineno">  559</span>&#160;        <span class="keywordtype">void</span> processRequestResponse(Request* r, <span class="keywordtype">bool</span> synchronous);</div>
<div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160;        <a class="code" href="structOgre_1_1WorkQueue_1_1Response.html" title="General purpose response structure.">Response</a>* processRequest(Request* r);</div>
<div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160;        <span class="keywordtype">void</span> processResponse(<a class="code" href="structOgre_1_1WorkQueue_1_1Response.html" title="General purpose response structure.">Response</a>* r);</div>
<div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160;        <span class="keyword">virtual</span> <span class="keywordtype">void</span> notifyWorkers() = 0;</div>
<div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160;        <span class="keywordtype">void</span> addRequestWithRID(RequestID rid, <a class="code" href="namespaceOgre.html#aa8263b218e7d187ad5ef03a73a6ad7fd">uint16</a> channel, <a class="code" href="namespaceOgre.html#aa8263b218e7d187ad5ef03a73a6ad7fd">uint16</a> requestType, <span class="keyword">const</span> <a class="code" href="classOgre_1_1Any.html" title="Variant type that can hold Any other type.">Any</a>&amp; rData, <a class="code" href="namespaceOgre.html#a119732ea9d1e88bbddc47b4ac0fa21cb">uint8</a> retryCount);</div>
<div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160;        </div>
<div class="line"><a name="l00567"></a><span class="lineno"><a class="code" href="classOgre_1_1DefaultWorkQueueBase.html#aa9a9777c57e7e8242aa3cd55217828ec">  567</a></span>&#160;        <a class="code" href="classOgre_1_1DefaultWorkQueueBase.html#a1332289260fd3c38bc31be1e7346346c">RequestQueue</a> <a class="code" href="classOgre_1_1DefaultWorkQueueBase.html#aa9a9777c57e7e8242aa3cd55217828ec">mIdleRequestQueue</a>; <span class="comment">// Guarded by mIdleMutex</span></div>
<div class="line"><a name="l00568"></a><span class="lineno"><a class="code" href="classOgre_1_1DefaultWorkQueueBase.html#ac2144c6201184bd11a91222ed754c3c8">  568</a></span>&#160;        <span class="keywordtype">bool</span> <a class="code" href="classOgre_1_1DefaultWorkQueueBase.html#ac2144c6201184bd11a91222ed754c3c8">mIdleThreadRunning</a>; <span class="comment">// Guarded by mIdleMutex</span></div>
<div class="line"><a name="l00569"></a><span class="lineno"><a class="code" href="classOgre_1_1DefaultWorkQueueBase.html#a9ea1c3510ae215bb2a8649d22fe7ed6e">  569</a></span>&#160;        Request* <a class="code" href="classOgre_1_1DefaultWorkQueueBase.html#a9ea1c3510ae215bb2a8649d22fe7ed6e">mIdleProcessed</a>; <span class="comment">// Guarded by mProcessMutex</span></div>
<div class="line"><a name="l00570"></a><span class="lineno">  570</span>&#160;        </div>
<div class="line"><a name="l00571"></a><span class="lineno">  571</span>&#160;</div>
<div class="line"><a name="l00572"></a><span class="lineno">  572</span>&#160;        <span class="keywordtype">bool</span> processIdleRequests();</div>
<div class="line"><a name="l00573"></a><span class="lineno">  573</span>&#160;    };</div>
<div class="line"><a name="l00574"></a><span class="lineno">  574</span>&#160;</div>
<div class="line"><a name="l00575"></a><span class="lineno">  575</span>&#160;</div>
<div class="line"><a name="l00576"></a><span class="lineno">  576</span>&#160;</div>
<div class="line"><a name="l00577"></a><span class="lineno">  577</span>&#160;</div>
<div class="line"><a name="l00578"></a><span class="lineno">  578</span>&#160;</div>
<div class="line"><a name="l00582"></a><span class="lineno">  582</span>&#160;}</div>
<div class="line"><a name="l00583"></a><span class="lineno">  583</span>&#160;</div>
<div class="line"><a name="l00584"></a><span class="lineno">  584</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="OgreHeaderSuffix_8h.html">OgreHeaderSuffix.h</a>&quot;</span></div>
<div class="line"><a name="l00585"></a><span class="lineno">  585</span>&#160;</div>
<div class="line"><a name="l00586"></a><span class="lineno">  586</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00587"></a><span class="lineno">  587</span>&#160;<span class="preprocessor"></span></div>
</div><!-- fragment --></div><!-- contents -->
<hr>
<p>
Copyright &copy; 2012 Torus Knot Software Ltd<br />
<!--Creative Commons License--><a rel="license" href="http://creativecommons.org/licenses/by-sa/3.0/"><img alt="Creative Commons License" style="border-width:0" src="http://i.creativecommons.org/l/by-sa/3.0/88x31.png" /></a><br />This work is licensed under a <a rel="license" href="http://creativecommons.org/licenses/by-sa/3.0/">Creative Commons Attribution-ShareAlike 3.0 Unported License</a>.<br/>
		<!--/Creative Commons License--><!-- <rdf:RDF xmlns="http://web.resource.org/cc/" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#">
		<Work rdf:about="">
			<license rdf:resource="http://creativecommons.org/licenses/by-sa/2.5/" />
	<dc:type rdf:resource="http://purl.org/dc/dcmitype/Text" />
		</Work>
		<License rdf:about="http://creativecommons.org/licenses/by-sa/2.5/"><permits rdf:resource="http://web.resource.org/cc/Reproduction"/><permits rdf:resource="http://web.resource.org/cc/Distribution"/><requires rdf:resource="http://web.resource.org/cc/Notice"/><requires rdf:resource="http://web.resource.org/cc/Attribution"/><permits rdf:resource="http://web.resource.org/cc/DerivativeWorks"/><requires rdf:resource="http://web.resource.org/cc/ShareAlike"/></License></rdf:RDF> -->
Last modified Mon Nov 25 2013 22:27:54
</p>
</body>
</html>
